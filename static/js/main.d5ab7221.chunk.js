(this.webpackJsonpnova=this.webpackJsonpnova||[]).push([[0],{40:function(e,n,t){},43:function(e,n,t){},67:function(e,n,t){},68:function(e,n,t){},75:function(e,n,t){},76:function(e,n,t){},77:function(e,n,t){},83:function(e,n,t){},84:function(e,n,t){},85:function(e,n,t){},86:function(e,n,t){"use strict";t.r(n);var i=t(6),a=t(23),o=t.n(a),s=(t(67),t(43),t(40),t(68),t(20)),r=t(24),c=t(9);var u=function(){var e=Object(i.useRef)(),n=Object(i.useRef)(),t=Object(i.useRef)(),a=Object(i.useRef)(),o=[e,n,t];return Object(i.useEffect)((function(){var e=r.a.timeline({delay:.5}),n="power3.out";o.forEach((function(t,i){e.to(t.current,{opacity:1,duration:2,ease:n},1.2*i)})),e.to(a.current,{opacity:1,"margin-top":0,skewY:"-10deg",duration:3,ease:n},1)}),[]),Object(c.jsx)("div",{className:"root",children:Object(c.jsx)("div",{className:"landing__container",children:Object(c.jsxs)("div",{className:"content__container",ref:a,children:[Object(c.jsxs)("h1",{className:"title__text",ref:e,children:[" ","Nova"," "]}),Object(c.jsx)("h4",{className:"landing__blurb",ref:n,children:"Meet Nova, a voice user-interface designed to help users navigate their anxiety through guided, interactive mindfulness exercises."}),Object(c.jsxs)(s.b,{to:"/CDT-project-01/nova",children:[" ",Object(c.jsxs)("button",{id:"enter__btn",ref:t,children:["Let's Begin"," "]})]})]})})})},l=t(21),d=(t(75),t(76),t(77),t(0)),h=t(5),v=t(34),p=t(48),m=t(53),f=t(49),g=t(32),_=t(50),x=t(51),b=2.5,j=.025,y=-20,O=7,w=t(1);function I(){var e=w.z.timeline({repeat:-1}),n=this.mesh.position.y,t=this.mesh.position.y+.75;this.mesh.position.y;w.z.to(this.uniforms.u_ripple_layers,{value:6,duration:3,ease:w.c.easeInOut}),e.to(this.mesh.position,{y:t,duration:2,ease:w.c.easeInOut}),e.to(this.mesh.position,{y:n,duration:2,ease:w.c.easeInOut}),e.to(this.mesh.position,{y:t,duration:2,ease:w.c.easeInOut}),e.to(this.mesh.position,{y:n,duration:2,ease:w.c.easeInOut})}function z(){var e=w.z.timeline();w.z.killTweensOf(this.mesh.position),e.to(this.uniforms.u_ripple_layers,{value:5,duration:2,ease:w.c.easeInOut})}function S(){this.isAnimatingSound=!0;var e=w.z.timeline();e.to(this.mesh.scale,{x:this.inVis?.5:1.2,y:this.inVis?.5:1.2,duration:2,ease:w.c.easeInOut},.5),e.to(this.uniforms.u_ripple_size,{value:3,duration:5,ease:w.b.easeInOut},0),e.to(this.uniforms.u_ripple_intensity,{value:6,duration:1,ease:w.b.easeInOut},0),e.to(this.uniforms.u_rIncre,{value:.2,duration:1,ease:w.c.easeInOut},0)}function k(){var e=this;this.inVis?(E(e),setTimeout((function(){e.thinkingOn()}),4e3)):E(this)}function E(e){var n=w.z.timeline();n.to(e.uniforms.u_rIncre,{value:0,duration:1,ease:w.c.easeInOut},0),n.to(e.mesh.scale,{x:e.inVis?.4:1,y:e.inVis?.4:1,duration:2,ease:w.d.easeInOut},0),n.to(e.uniforms.u_ripple_size,{value:b,duration:5,ease:w.b.easeInOut},0)}function N(e){this.isAnimating=!0;var n=this,t=w.z.timeline({onComplete:function(){n.isAnimating=!1,n.inVis=!0,e()}});t.to(this.mesh.scale,{x:.4,y:.4,duration:2,ease:w.c.easeInOut},0),t.to(this.mesh.position,{y:-15.5,duration:2,ease:w.c.easeInOut}),t.to(this.sceneOutlinePass,{edgeStrength:.7,duration:1,ease:w.c.easeInOut})}function C(){var e=w.z.timeline();e.to(this.mesh.scale,{x:2,y:2,duration:2,ease:w.c.easeInOut},0),e.to(this.mesh.position,{y:8,duration:3,ease:w.c.easeInOut},0)}function T(){var e=w.z.timeline();e.to(this.uniforms.u_bIncre,{value:.1,duration:1,ease:w.c.easeInOut},0),e.to(this.uniforms.u_rIncre,{value:.1,duration:1,ease:w.c.easeInOut},0),e.to(this.uniforms.u_opaque,{value:.8,duration:2,ease:w.c.easeInOut},0),e.to(this.mesh.rotation,{z:2*Math.PI,duration:2,ease:w.b.easeInOut},0),e.to(this.uniforms.u_opaque,{value:j,duration:2,ease:w.c.easeInOut},2),e.to(this.uniforms.u_bIncre,{value:0,duration:.5,ease:w.c.easeInOut},2),e.to(this.uniforms.u_rIncre,{value:0,duration:.5,ease:w.c.easeInOut},2)}function D(){var e=w.z.timeline();w.z.killTweensOf(this.mesh.rotation),e.to(this.mesh.rotation,{duration:3,ease:w.b.easeInOut}),e.to(this.uniforms.u_opaque,{value:j,duration:1,ease:w.c.easeInOut}),e.to(this.uniforms.u_bIncre,{value:0,duration:.5,ease:w.c.easeInOut}),e.to(this.uniforms.u_rIncre,{value:0,duration:.5,ease:w.c.easeInOut})}function A(){var e=w.z.timeline();e.to(this.mesh.rotation,{z:2*Math.PI,duration:2,ease:w.c.easeInOut},0),e.to(this.uniforms.u_rIncre,{value:.8,duration:1.5,ease:w.c.easeInOut},0),e.to(this.uniforms.u_gIncre,{value:-.07,duration:1.5,ease:w.c.easeInOut},0),e.to(this.uniforms.u_ripple_layers,{value:5.5,duration:2,ease:w.c.easeInOut},0),e.to(this.uniforms.u_opaque,{value:5,duration:2,ease:w.c.easeInOut},0),e.to(this.uniforms.u_ripple_size,{value:1.2,duration:2},0),e.to(this.uniforms.u_rIncre,{value:0,duration:1.5,ease:w.c.easeInOut,delay:5}),e.to(this.uniforms.u_gIncre,{value:0,duration:1.5,ease:w.c.easeInOut},"end"),e.to(this.uniforms.u_ripple_layers,{value:5,duration:2,ease:w.c.easeInOut},"end"),e.to(this.uniforms.u_opaque,{value:j,duration:2,ease:w.c.easeInOut},"end"),e.to(this.uniforms.u_ripple_size,{value:b,duration:2},"end")}function L(){console.log(this);var e=w.z.timeline({});e.to(this.uniforms.u_alpha,{value:1,duration:3,ease:w.c.easeInOut},0),e.to(this.sceneOutlinePass,{edgeStrength:1,duration:3,ease:w.c.easeInOut},1)}function R(){var e=w.z.timeline();e.to(this.mesh.scale,{x:0,y:0,z:0,duration:3,ease:w.c.easeInOut},0),e.to(this.uniforms.u_alpha,{value:0,duration:3,ease:w.c.easeInOut},0),e.to(this.sceneOutlinePass,{edgeStrength:0,duration:3,ease:w.c.easeInOut},1)}var P=function(e,n,t){e[t]=n.bind(e)},V=function e(n){var t=this;Object(d.a)(this,e),this.init=function(){var e=(new h.I).load("assets/texture/static_grain.png");t.uniforms={u_tex:{value:e},u_duration:{value:5},u_time:{value:0},u_ripple_size:{value:b},u_ripple_layers:{value:5},u_rIncre:{value:0},u_bIncre:{value:0},u_gIncre:{value:0},u_opaque:{value:j},u_alpha:{value:0},u_delt:{value:1}};var n=new h.F({uniforms:t.uniforms,vertexShader:"\n#define PI 3.141592653589\n\nfloat random (vec2 st) {\n  return fract(sin(dot(st.xy, vec2(5.9898,78.233)))* 43758.5453123);\n}\n\nvarying vec2 v_uv;\nvarying vec3 v_position;\nvarying vec3 v_normal;\nuniform float u_time;\n\nvoid main() {\t\n  v_uv = uv;\n  v_position = position;\n  v_normal = normal;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( v_position, 1.0 );\n}\n",fragmentShader:"\n#define PI 3.141592653589\n\nfloat random (vec2 st) {\n  return fract(sin(dot(st.xy, vec2(5.9898,78.233)))* 43758.5453123);\n}\n\nuniform sampler2D u_tex;\nuniform float u_duration;\nuniform float u_time;\nuniform float u_ripple_size;\nuniform float u_ripple_layers;\nuniform float u_rIncre;\nuniform float u_bIncre;\nuniform float u_gIncre;\nuniform float u_opaque;\nuniform float u_alpha;\nuniform float u_delt;\nvarying vec2 v_uv;\nvarying vec3 v_position;\nvarying vec3 v_normal;\n\nvoid main (void)\n{\n  float contrast = 1.0;\n  vec2 p = v_position.xy;\n  float len = length(p) / 1.5;\n  vec2 ripple = v_uv + p/len*u_opaque*cos(len*u_ripple_layers-u_time * u_ripple_size);\n  float delta = u_delt * (sin(mod(u_time, u_duration) * (15.0 * PI/u_duration)))/15.0*(random(ripple)*u_bIncre);\n  vec2 uv = mix(ripple, v_uv, 0.0);\n  vec3 rippled;\n  rippled = texture2D(u_tex, uv).rgb;\n  rippled.r += u_rIncre;\n  rippled.b += u_bIncre;\n  rippled.r -= u_bIncre;\n  rippled.g += u_gIncre;\n  rippled.rgb = ((rippled.rgb - 0.5) * max(contrast, 0.0)) + 0.5;\n  gl_FragColor = vec4(rippled, u_alpha); \n}\n",transparent:!0}),i=new h.h(4.5,32);t.mesh=new h.s(i,n),t.mesh.position.set(y,O,.5);!function(e,n,t){n.length===t.length?n.forEach((function(n,i){P(e,n,t[i])})):console.log("Wrong inputs to bind new methods")}(t,[I,z,S,k,A,T,D,L,R,N,C],["speakingOn","speakingOff","listenOn","listenOff","reassuringOn","thinkingOn","thinkingOff","animateAppear","animateDisappear","activateVisualization","finishVisualization"])},this.update=function(e){void 0!==t.uniforms&&(t.uniforms.u_time.value+=e)},this.changeState=function(e){if(!t.isAnimating){console.log("Vui state has changed to: ",e);var n=t.state;if(t.state=e,n!==t.state)switch(t.state){case"appearing":t.animateAppear();break;case"listening":if("none"===n)return;t.listenOn();break;case"stop_listening":t.listenOff();break;case"speaking":t.speakingOn();break;case"stop_speaking":t.speakingOff();break;case"reassuring":t.reassuringOn();break;case"thinking":t.thinkingOn();break;case"stop_thinking":t.thinkingOff();break;case"disappearing":t.animateDisappear();break;case"activate_visualization":var i=t.speakingOn;t.activateVisualization(i);break;case"visualization":break;case"finish_visualization":t.finishVisualization();break;default:return}}},this.state="none",this.sceneOutlinePass=n,this.isAnimating=!1,this.inVis=!1},F=t(52),U=function e(n,t,i,a){var o=this;Object(d.a)(this,e),this.setup=function(){o.scene=new h.E,o.scene.background=new h.j(15130621),o.camera=new h.z(75,o.windowInfo.width/o.windowInfo.height,1,1e3),o.camera.position.set(0,0,30),o.camera.lookAt(o.scene.position),o.setupRenderers(),o.controls=new p.a(o.camera,o.renderer.domElement),o.controls.update(),o.clock=new h.i,o.createLights(),o.createBackground(),o.initPostprocessing(),o.vuiObj=new V(o.outlinePass),o.vuiObj.init(),o.scene.add(o.vuiObj.mesh),o.outlinePass.selectedObjects=[o.vuiObj.mesh],o.setupListener()},this.setupListener=function(){o.listener=new h.d,o.camera.add(o.listener),o.audioLoader=new h.e},this.playSound=function(){var e=o,n=new h.c(o.listener);n.onEnded=function(){console.log("Finished sound clip"),e.vuiObj.changeState("stop_speaking"),e.toggleSpeakingFunc(!1)};var t="assets/audio/vui/"+o.soundClip.toString()+".mp3";console.log("Load sound path",t),o.audioLoader.load(t,(function(t){console.log("Playing sound clip",e.soundClip),void 0!==e.vuiObj&&(e.vuiObj.changeState("speaking"),e.toggleSpeakingFunc(!0)),n.setBuffer(t),n.setLoop(!1),n.play(),e.soundClip++}))},this.setupRenderers=function(){o.renderer=new h.N({antialias:!0}),o.renderer.setSize(o.windowInfo.width,o.windowInfo.height),o.renderer.shadowMap.enabled=!0,o.htmlElem.appendChild(o.renderer.domElement),o.cssRenderer=new v.b,o.cssRenderer.setSize(window.innerWidth,window.innerHeight),o.cssRenderer.domElement.style.position="absolute",o.cssRenderer.domElement.style.top=0,o.cssElem.appendChild(o.cssRenderer.domElement)},this.createGridHelper=function(){o.gridHelper=new h.o(10,10),o.scene.add(o.gridHelper),console.log("created grid helper",o.gridHelper)},this.initPostprocessing=function(){o.composer=new m.a(o.renderer);var e=new f.a(o.scene,o.camera);o.composer.addPass(e);var n=new _.a(new h.K(window.innerWidth,window.innerHeight),o.scene,o.camera);n.edgeStrength=0,n.edgeGlow=10,n.edgeThickness=9,n.visibleEdgeColor=new h.j(.8,.8,.8),n.downSampleRatio=1.8;var t=new g.a(x.a);t.uniforms.resolution.value.set(1/window.innerWidth,1/window.innerHeight),t.renderToScreen=!0,o.composer.addPass(t),o.composer.addPass(n),o.outlinePass=n},this.createLights=function(){o.ambientLight=new h.b(4210752),o.scene.add(o.ambientLight);var e=new h.k(14548957,.4);e.position.z=1,e.position.y=1,e.position.x=1,o.scene.add(e)},this.createBackground=function(){for(var e,n=new h.I,t="assets/visualization/sequence/",i=".png",a=[],s=1;s<=14;s++)e=n.load(t+s.toString()+i),a.push(e);o.visTextures=a;var r=n.load(t+"intro"+i);o.visIntroTex=r,console.log("Textures",a);var c=new h.A(17,36);o.bgUniforms={u_tex1:{value:r},u_tex2:{value:r},u_resolution:{value:{x:window.innerWidth,y:window.innerHeight}},u_useTexLerp:{value:0},u_time:{value:0}};var u=new h.F({uniforms:o.bgUniforms,vertexShader:"\nvarying vec2 v_uv;\nvarying vec3 v_position;\nvarying vec3 v_normal;\nvarying float v_wave;\nuniform float u_time;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v) {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n  \n  // First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n  \n  // Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n  \n  // Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n           \n  // Gradients: 7x7 points over a square, mapped onto an octahedron.\n  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n  \n  // Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n  \n  // Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n}\n\n\nvoid main() {\t\n  v_uv = uv;\n  v_position = position;\n  v_normal = normal;\n\n  vec3 pos = position;\n  float noiseFreq = 0.05;\n  float noiseAmp = 0.01; \n  vec3 noisePos = vec3(pos.x* noiseFreq + u_time , pos.y , pos.z);\n  pos.z += snoise(noisePos) * noiseAmp;\n  v_wave = pos.z;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n}\n",fragmentShader:"\nuniform sampler2D u_tex1;\nuniform sampler2D u_tex2;\nuniform vec2 u_resolution;\nuniform float u_useTexLerp;\nuniform float u_time;\nvarying vec2 v_uv;\nvarying vec3 v_position;\nvarying vec3 v_normal;\nvarying float v_wave;\n\nvoid main (void)\n{\n  float wave = v_wave * 0.25;\n  vec3 mapped1 = texture2D(u_tex1, v_uv ).rgb;\n  vec3 mapped2 = texture2D(u_tex2, v_uv ).rgb;\n  vec3 color = mix(mapped1, mapped2, u_useTexLerp);\n  gl_FragColor = vec4(color, 1); \n}\n",transparent:!0}),l=new h.s(c,u);l.position.set(-20,-1.5,0),o.scene.add(l)},this.lerpBackground=function(){if(void 0!==o.bgUniforms){var e=F.a.timeline({onComplete:function(){}});o.bgUniforms.u_useTexLerp.value=0,e.to(o.bgUniforms.u_useTexLerp,{value:1,duration:2,ease:"sine.out"})}},this.changeState=function(e,n,t){t&&o.playSound(),o.vuiObj.changeState(e),n<0||(o.bgUniforms.u_tex1.value=o.bgUniforms.u_tex2.value,o.bgUniforms.u_tex2.value=n>14?o.visIntroTex:o.visTextures[n-1],o.lerpBackground())},this.renderScene=function(){o.renderer.render(o.scene,o.camera),o.cssRenderer.render(o.scene,o.camera)},this.handleResize=function(e,n){o.camera.aspect=e/n,o.camera.updateProjectionMatrix(),o.renderer.setSize(e,n),o.cssRenderer.setSize(e,n),o.bgUniforms.u_resolution.value.x=e,o.bgUniforms.u_resolution.value.y=n},this.update=function(){o.controls.update(),o.rafId=requestAnimationFrame(o.update),void 0!==o.vuiObj&&o.vuiObj.update(o.clock.getDelta()),o.bgUniforms.u_time.value=o.clock.getElapsedTime(),o.composer.render(),o.cssRenderer.render(o.scene,o.camera)},this.render=function(e){o.isRendering!==e&&(o.isRendering=e,e?o.update():cancelAnimationFrame(o.rafId))},this.htmlElem=n,this.cssElem=t,this.windowInfo=i,this.rafId=0,this.isRendering=!1,this.soundClip=0,this.toggleSpeakingFunc=a},M=t(27),H=t(37),W=t.n(H),q=function(e,n,t){return{type:"VUI_STATE_CHANGE",payload:{stateStr:e,visState:n,playSound:t}}};var G=[{vui_texts:["Ok, let\u2019s go to a different place together, a more peaceful place. ","Imagine you are at a lake, the waters are calm, and the current is mild. You can feel a light breeze passing by you.","What do you hear? "]},{vui_texts:["And the weather? It is a warm day, comfortable but not hot at all, nearing sunset. From where you sit, you can see the whole landscape around you. ","What colors do you imagine?"]},{vui_texts:["Our landscape is beginning to come together. The hills have tall green grass on them. When you focus in you can see the grass moving slowly in the wind. ","Imagine you are looking up, you see some blue birds flying through the clouds above you. What else do you see?"]},{vui_texts:["Now let\u2019s take some time to relax in the personal landscape that we've created. ","Notice where your body touches the grass and your feet meet the ground. Feel the weight of your arms and hands resting. Acknowledge your senses: notice anything you can smell, hear or taste, sensations of heat or cold.","What are you feeling right now?"]},{vui_texts:["Do you want to continue the visualization? "]},{vui_texts:["Okay, I hope you feel proud of yourself for getting through this.","Do you want to share what brought you here today? "]},{vui_texts:["I see, thank you for sharing that with me. You will be okay and I will always be here for you. ","Would you like to share this session with your therapist?"]}];var B=["January","February","March","April","May","June","July","August","September","October","November","December"];t(83);function J(){return Object(c.jsxs)("div",{id:"header__container row",children:[Object(c.jsx)("div",{id:"navigation__container",children:Object(c.jsxs)("div",{id:"nav__content",children:[Object(c.jsx)("div",{class:"column narrow__left",id:"nav__content__left",children:Object(c.jsx)(s.c,{className:"nav__route",to:"/CDT-project-01",children:Object(c.jsx)("span",{id:"logo__text",children:"Nova"})})}),Object(c.jsxs)("div",{class:"column wide__right",id:"nav__content__right",children:[Object(c.jsx)(s.c,{className:"nav__route",to:"/CDT-project-01/nova",children:"Meet Nova"}),Object(c.jsx)(s.c,{className:"nav__route",to:"/CDT-project-01/matrix",children:"State Matrix"}),Object(c.jsx)(s.c,{className:"nav__route",to:"/CDT-project-01/about",children:"About"})]})]})}),Object(c.jsx)("hr",{})]})}var Y=["Nova, I need help.","Visualization.","I hear the ripples of the water.","The sky is becoming brighter.","(Continued) I can see the light blue water, some white clouds, and some green hills and trees.","I see some water lilies near me.","I\u2019m feeling calmer now.","No, I\u2019m alright. ","I was feeling really overwhelmed by my classes and my work. I think I took on too much this semester and then it just all started crashing down on me."];var X=function(){var e=Object(M.c)((function(e){return e.vuiState})),n=Object(M.b)(),t=Object(i.useRef)(null),a=Object(i.useRef)(null),o=Object(i.useRef)(null),s=Object(i.useState)(""),u=Object(l.a)(s,2),d=u[0],h=u[1],v=new Date,p=Object(i.useState)(["Welcome, it's "+B[v.getMonth()]+" "+v.getDate()+", "+v.getFullYear()+"."]),m=Object(l.a)(p,2),f=m[0],g=m[1],_=Object(i.useRef)(),x=Object(i.useState)([]),b=Object(l.a)(x,2),j=b[0],y=b[1],O=Object(i.useState)(0),I=Object(l.a)(O,2),z=I[0],S=I[1],k=Object(i.useState)(0),E=Object(l.a)(k,2),N=E[0],C=E[1],T=Object(i.useState)(!1),D=Object(l.a)(T,2),A=D[0],L=D[1];Object(i.useEffect)((function(){S(N),console.log("Set instruction text to",N)}),[N,z]),Object(i.useEffect)((function(){var e=z+2;if(e>=Y.length)console.log("Reached end of instruction");else{for(var n=[],t=z;t<=e;t++)n.push(Y[t]);y(n),console.log("Set new instruction text arr to",n)}}),[z]),Object(i.useEffect)((function(){if(null!==t.current&&null===a.current)return console.log("Initializing GL with: ",t.current),a.current=new U(t.current,o.current,{width:window.innerWidth,height:window.innerHeight},L),a.current.setup(),a.current.render(!0),window.addEventListener("resize",e,!1),document.addEventListener("keydown",se,!1),document.addEventListener("keyup",re,!1),function(){a.current.render(!1),window.removeEventListener("resize",e,!1),document.removeEventListener("keydown",se,!1),document.removeEventListener("keyup",re,!1)};function e(){a.current.handleResize(window.innerWidth,window.innerHeight)}}),[]),Object(i.useEffect)((function(){void 0!==a.current&&null!==a.current&&void 0!==a.current.vuiObj&&null!==a.current.vuiObj&&(console.log(e.vuiState),a.current.changeState(e.vuiState.vuiStateStr,e.vuiState.visState,e.vuiState.playSound))}),[e]);var R=function(){var e=N+1;C(e),console.log("User text changed to",e)},P=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,t=function(){R(),e()},i=r.a.timeline({onComplete:t,delay:n});i.to(_.current,{opacity:0,duration:2,ease:w.c.easeInOut})},V=function(){r.a.timeline().to(_.current,{opacity:1,duration:2,ease:w.c.easeInOut})},F=function(){g(["Hi Caitlyn, you will get through this moment. I am always here for you and to guide you. ","Would you like to do a visualization or a sensory exercise? "]),h(""),n(q("appearing",-10,!0),[n]),V()},X=function(){g(G[0].vui_texts),h(""),n(q("activate_visualization",1,!0),[n]),V()},K=function(){g(G[1].vui_texts),h(""),n(q("visualization",3,!0),[n]),V()},Q=function(){g(G[2].vui_texts),h(""),n(q("visualization",9,!0),[n]),V()},Z=function(){g(G[3].vui_texts),h(""),n(q("visualization",13,!0),[n]),V()},$=function(){g(G[4].vui_texts),h(""),n(q("visualization",13,!0),[n]),V()},ee=[{command:"Nova I need help",callback:function(){n(q("appearing",-10,!1),[n]),P(F,2)}},{command:"(a) visualization",callback:function(){P(X)}},{command:"I hear the ripples of the water",callback:function(){P(K)}},{command:"* sky is becoming brighter",callback:function(){n(q("visualization",5,!1),[n]),R()}},{command:"* light blue water *",callback:function(){P(Q)}},{command:"* water lilies *",callback:function(){P(Z)}},{command:"* feeling calmer *",callback:function(){P($)}},{command:"No I'm alright",callback:function(){P((function(){g(G[5].vui_texts),h(""),n(q("no_change",13,!0),[n]),V()}))}},{command:"I was feeling overwhelmed *",callback:function(){P((function(){g(G[6].vui_texts),h(""),n(q("finish_visualization",20,!0),[n]),V()}))}},{command:"I don't know",callback:function(){g(["Let\u2019s focus on using an exercise to calm your anxiety right now.","Which exercise would you like to do, a visualization or a sensory exercise?"]),n(q("static",-10),[n])}}],ne=Object(H.useSpeechRecognition)({commands:ee,isFuzzyMatch:!0}),te=ne.transcript,ie=ne.listening,ae=ne.resetTranscript,oe=ne.browserSupportsSpeechRecognition,se=function(e){A||e.repeat||(console.log("Start listen"),W.a.startListening({continuous:!0}),ae(),n(q("listening",-10,!1),[n]))},re=function(){var e;A||(console.log("Stop listen"),W.a.stopListening(),""!==te&&(n(q("stop_listening",-10,!1),[n]),h((e=te).charAt(0).toUpperCase()+e.slice(1)+".",!0)))};return oe?Object(c.jsxs)("div",{className:"VUI",children:[Object(c.jsx)("div",{id:"webgl",ref:t}),Object(c.jsx)("div",{id:"css",ref:o}),Object(c.jsxs)("div",{className:"root",children:[Object(c.jsx)(J,{}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"column left",id:"VUI_UI_container",children:Object(c.jsxs)("div",{className:"conversation__container",ref:_,children:[f.map((function(e,n){return Object(c.jsx)("span",{className:"transcript__text__vui",children:e},n)})),ie?Object(c.jsxs)("span",{className:"transcript__text__user",children:[" ",te]}):Object(c.jsxs)("span",{className:"transcript__text__user",children:[" ",d]})]})}),Object(c.jsx)("div",{className:"column right",id:"info__container",children:Object(c.jsxs)("div",{id:"info__content",children:[Object(c.jsxs)("div",{id:"about__container",children:[Object(c.jsxs)("div",{children:[" ",Object(c.jsx)("h1",{children:" Visualization Exercise "}),Object(c.jsx)("hr",{})]}),Object(c.jsxs)("p",{children:[" ","The Visualization Exercise gives you the opportunity to co-create a personal landscape with Nova. Nova will guide you through this sensory experience with ambient sound, calming visuals, and breathing exercises."," "]})]}),Object(c.jsxs)("div",{id:"instructions__container",children:[Object(c.jsx)("h2",{children:"Speak the script below to engage with Nova."}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{id:"instructions__texts",children:[" ",j.map((function(e,n){return Object(c.jsx)("span",{className:"instruction__text",children:e},n)}))]}),Object(c.jsx)("hr",{})]}),Object(c.jsxs)("div",{id:"manual__helper",children:[A?Object(c.jsxs)("h2",{children:[" ","Nova is currently talking. You can engage with Nova after they finish."," "]}):Object(c.jsxs)("h2",{children:[" ","Hold the ",Object(c.jsx)("span",{id:"highlight__text",children:" spacebar "})," to speak."," "]}),Object(c.jsxs)("p",{children:["Microphone is currently ",ie?"on":"off","."]})]})]})})]})]})]}):Object(c.jsx)("span",{children:"Browser doesn't support speech recognition."})},K=t(12),Q=t(89),Z=t(90),$=function(e,n,t,i){var a=r.a.timeline({paused:!0});return a.set(e,{opacity:t}),a.to(e,{opacity:i,duration:1.5,ease:w.c.easeInOut,delay:n}),a.then((function(){console.log("Finished page transition animation")})),a};t(84);function ee(){return Object(c.jsxs)("div",{id:"matrix__root",children:[Object(c.jsx)(J,{}),Object(c.jsx)("p",{children:" This is the matrix page. "})]})}t(85);function ne(){return Object(c.jsxs)("div",{id:"process__root",children:[Object(c.jsx)(J,{}),Object(c.jsx)("p",{children:" This is about page. "})]})}var te=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(s.a,{children:Object(c.jsx)(K.a,{render:function(e){var n=e.location,t=(n.pathname,n.key);return Object(c.jsx)(Q.a,{component:null,children:Object(c.jsx)(Z.a,{native:!0,appear:!0,onEnter:function(e){return function(e,n){$(n,1,0,1).play()}(0,e)},onExiting:function(e){return function(e,n){$(n,0,1,0).play()}(0,e)},timeout:{enter:300,exit:350},children:Object(c.jsxs)(K.c,{location:n,children:[Object(c.jsx)(K.a,{exact:!0,path:"/CDT-project-01",component:u}),Object(c.jsx)(K.a,{path:"/CDT-project-01/nova",component:X}),Object(c.jsx)(K.a,{path:"/CDT-project-01/matrix",component:ee}),Object(c.jsx)(K.a,{path:"/CDT-project-01/about",component:ne})]})},t)})}})})})},ie=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,91)).then((function(n){var t=n.getCLS,i=n.getFID,a=n.getFCP,o=n.getLCP,s=n.getTTFB;t(e),i(e),a(e),o(e),s(e)}))},ae=t(35),oe=t(19),se={vuiState:{vuiStateStr:"none",visState:-10,playSound:!1},isSpeaking:!1,userName:"User"},re=Object(ae.a)({vuiState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,n=arguments.length>1?arguments[1]:void 0;return"VUI_STATE_CHANGE"===n.type?Object(oe.a)(Object(oe.a)({},e),{},{vuiState:{vuiStateStr:n.payload.stateStr,visState:n.payload.visState,playSound:n.payload.playSound}}):e},soundState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,n=arguments.length>1?arguments[1]:void 0;return"SOUND_STATE_CHANGE"===n.type?Object(oe.a)(Object(oe.a)({},e),{},{soundsState:n.payload}):e},username:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,n=arguments.length>1?arguments[1]:void 0;return"USER_NAME_CHANGE"===n.type?(console.log("user name change"),Object(oe.a)(Object(oe.a)({},e),{},{userName:n.payload})):e},visPhase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,n=arguments.length>1?arguments[1]:void 0;return"VIS_PHASE_CHANGE"===n.type?(console.log("Visualization phase has changed to",n.payload),Object(oe.a)(Object(oe.a)({},e),{},{visPhaseInt:n.payload})):e}}),ce=re,ue=Object(ae.b)(ce,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(c.jsx)(M.a,{store:ue,children:Object(c.jsx)(te,{})}),document.getElementById("root")),ie()}},[[86,1,2]]]);
//# sourceMappingURL=main.d5ab7221.chunk.js.map